<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>스마트진료</title>
    <link href="./css/bootstrap.css" rel="stylesheet">
    <link href="./css/vanillaCalendar.css" rel="stylesheet">
    <link href="./css/fontawesome.css" rel="stylesheet">
    <link href="./css/solid.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar navbar-expand navbar-dark bg-dark" aria-label="Second navbar example">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">스마트진료</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample02" aria-controls="navbarsExample02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
    
          <div class="collapse navbar-collapse" id="navbarsExample02">
            <ul class="navbar-nav me-auto">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">홈</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./settings.html">설정</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    <div><h1> </h1></div>

    <!-- 본문 구간 -->
    <div class="container text-center">
        <!-- 진료/검사일정 -->
        <div class="row p-3">
          <div class="col-lg-auto">
            <div class="card" style="width: 24rem;">
                <div class="card-header">
                  진료/검사일정
                </div>
                <div class="accordion" id="accordionSCD">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSCD1">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSCD1" aria-expanded="false" aria-controls="collapseSCD1"
                        id="btSCD1">
                        2022-11-29 (화) 10:50 소화기내과 김태인
                      </button>
                    </h2>
                    <div id="collapseSCD1" class="accordion-collapse collapse" aria-labelledby="headingSCD1" data-bs-parent="#accordionSCD">
                      <div class="accordion-body">
                        <strong id="bdSCD1">This is the second item's accordion body.</strong>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSCD2">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSCD2" aria-expanded="false" aria-controls="collapseSCD2"
                        id="btSCD2">
                        2022-11-29 (화) 16:50 소화기내과 김태인
                      </button>
                    </h2>
                    <div id="collapseSCD2" class="accordion-collapse collapse" aria-labelledby="headingSCD2" data-bs-parent="#accordionSCD">
                      <div class="accordion-body">
                        <strong id="bdSCD2">This is the second item's accordion body.</strong>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSCD3">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSCD3" aria-expanded="false" aria-controls="collapseSCD3"
                        id="btSCD3">
                        2022-11-30 (수) 10:50 소화기내과 김태인
                      </button>
                    </h2>
                    <div id="collapseSCD3" class="accordion-collapse collapse" aria-labelledby="headingSCD3" data-bs-parent="#accordionSCD">
                      <div class="accordion-body">
                        <strong id="bdSCD3">This is the third item's accordion body.</strong>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
          </div>
          <div class="col">
            <div class="card" style="width: 24rem;">
              <div class="card-header">
                처방전
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item" id="bdMed1">처방전 1</li>
                <li class="list-group-item" id="bdMed2">처방전 2</li>
                <li class="list-group-item" id="bdMed3">처방전 3</li>
              </ul>
            </div>
          </div>
          <div class="col">
            <div id="v-cal">
              <div class="vcal-header">
                <button class="vcal-btn" data-calendar-toggle="previous">
                  <svg height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path>
                  </svg>
                </button>
                <div class="vcal-header__label" data-calendar-label="month">
                  March 2017
                </div>
                <button class="vcal-btn" data-calendar-toggle="next">
                  <svg height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path>
                  </svg>
                </button>
              </div>
              <div class="vcal-week">
                <span>월</span> <span>화</span><span>수</span> <span>목</span> <span>금</span> <span>토</span> <span>일</span>
              </div>
              <div class="vcal-body" data-calendar-area="month"></div>
            </div>
          </div>
        </div>

        
        <div class="row gap-3">
          <!-- 나의 입원정보 -->
          <div class="col p-3">
            <div class="card">
                <h5 class="card-header">나의 입원 정보</h5>
                <div class="card-body">
                  <h5 class="card-title"><strong>최인규</strong>님</h5>
                  <h6 class="card-subtitle">제 3병동 214호</h6>
                  <p class="card-text">
                    <div class="container text-start">
                      <div class="row">
                        <div class="col">
                          <strong>입원일</strong>
                        </div>
                        <div class="col">
                          2022-11-1
                        </div>
                      </div>
                      <div class="row">
                        <div class="col">
                          <strong>진료과</strong>
                        </div>
                        <div class="col">
                          소화기내과
                        </div>
                      </div>
                      <div class="row">
                        <div class="col">
                          <strong>담당의사</strong>
                        </div>
                        <div class="col">
                          김태인
                        </div>
                      </div>
                    </div>
                  </p>
                </div>
              </div>
          </div>

          <!-- 오늘의 식단 -->
          <div class="col p-3">
            <div class="card">
                <h5 class="card-header">오늘의 식단</h5>
                <div class="card-body">
                  <div class="accordion" id="accordionDiet">
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="headingDiet1">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDiet1" aria-expanded="false" aria-controls="collapseDiet1"
                        id="btDiet1">
                          지방조절식[중저염고지혈증식]-밥
                        </button>
                      </h2>
                      <div id="collapseDiet1" class="accordion-collapse collapse" aria-labelledby="headingDiet1" data-bs-parent="#accordionDiet">
                        <div class="accordion-body">
                          <strong id="bdDiet1">This is the first item's accordion body.</strong>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="headingDiet2">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDiet2" aria-expanded="false" aria-controls="collapseDiet2"
                        id="btDiet2">
                          지방조절식[중저염고지혈증식]-밥
                        </button>
                      </h2>
                      <div id="collapseDiet2" class="accordion-collapse collapse" aria-labelledby="headingDiet2" data-bs-parent="#accordionDiet">
                        <div class="accordion-body">
                          <strong id="bdDiet2">This is the second item's accordion body.</strong>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header" id="headingDiet3">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDiet3" aria-expanded="false" aria-controls="collapseDiet3"
                        id="btDiet3">
                          지방조절식[중저염고지혈증식]-밥
                        </button>
                      </h2>
                      <div id="collapseDiet3" class="accordion-collapse collapse" aria-labelledby="headingDiet3" data-bs-parent="#accordionDiet">
                        <div class="accordion-body">
                          <strong id="bdDiet3">This is the third item's accordion body.</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>

          <!-- 시설 안내 -->
          <div class="col p-3">
            <div class="card">
                <h5 class="card-header">시설 안내</h5>
                <div class="card-body">
                  <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">층별 목록</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">약도</button>
                    </li>
                  </ul>
                  <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
                      <!-- 층별 시설안내 (텍스트) -->
                      <div class="accordion" id="accordionFloorList">
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingFloorList1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFloorList1" aria-expanded="false" aria-controls="collapseFloorList1">
                              1층
                            </button>
                          </h2>
                          <div id="collapseFloorList1" class="accordion-collapse collapse" aria-labelledby="headingFloorList1" data-bs-parent="#accordionFloorList">
                            <div class="accordion-body">
                              서류영상발급센터 | 안내데스크 | 접수・수납 | 뇌종양센터 | 내과부 | 소화기내시경센터 | 영상의학과 | 가정의학과 | 소아청소년과 | 신경과 | 안과 | 이비인후과
                            </div>
                          </div>
                        </div>
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingFloorList2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFloorList2" aria-expanded="false" aria-controls="collapseFloorList2">
                              2층
                            </button>
                          </h2>
                          <div id="collapseFloorList2" class="accordion-collapse collapse" aria-labelledby="headingFloorList2" data-bs-parent="#accordionFloorList">
                            <div class="accordion-body">
                              비뇨의학과 | 외과 | 정신건강의학과 | 피부과 | 수술실 | 중환자실 | 심장혈관센터
                            </div>
                          </div>
                        </div>
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="headingFloorList3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFloorList3" aria-expanded="false" aria-controls="collapseFloorList3">
                              3층
                            </button>
                          </h2>
                          <div id="collapseFloorList3" class="accordion-collapse collapse" aria-labelledby="headingFloorList3" data-bs-parent="#accordionFloorList">
                            <div class="accordion-body">
                              강당 | 사회사업팀 | 신생아실 | 신생아집중치료실 | 인공 신장실 | 병리과 | 진단검사의학과
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                      <!-- 층별 약도 -->
                      <div class="btn-group" role="group" aria-label="Vertical button group">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalFloorMap1">
                          1층
                        </button>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalFloorMap2">
                          2층
                        </button>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalFloorMap3">
                          3층
                        </button>
                      </div>
                      
                      
                      <!-- Modal -->
                      <div class="modal fade" id="modalFloorMap1" tabindex="-1" aria-labelledby="modalFloorMap1Label" aria-hidden="true">
                        <div class="modal-dialog modal-fullscreen">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="modalFloorMap1Label">1층 약도</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <img class="img-fluid" width="45%" src="img/floor_1.jpg">
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">그만 보기</button>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="modal fade" id="modalFloorMap2" tabindex="-1" aria-labelledby="modalFloorMap2Label" aria-hidden="true">
                        <div class="modal-dialog modal-fullscreen">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="modalFloorMap2Label">2층 약도</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <div>
                                <img class="img-fluid" width="45%" src="img/floor_2.jpg">
                              </div>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">그만 보기</button>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="modal fade" id="modalFloorMap3" tabindex="-1" aria-labelledby="modalFloorMap3Label" aria-hidden="true">
                        <div class="modal-dialog modal-fullscreen">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="modalFloorMap3Label">3층 약도</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <img class="img-fluid" width="45%" src="img/floor_3.jpg">
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary btn-lg" data-bs-dismiss="modal">그만 보기</button>
                            </div>
                          </div>
                        </div>
                      </div>


                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>

        <!-- 버튼 그룹 -->
        <div class="row">
            <div class="col gap-3">
                <div class="d-grid p-3">
                    <button type="button" class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#modalCallAid">편의 요청 [1]</button>
                </div>
            </div>
            <div class="col gap-3">
                <div class="d-grid p-3">
                    <button type="button" class="btn btn-danger btn-lg" id="btEmergencyCall">긴급 호출 [2]</button>
                </div>
            </div>
            <div class="col gap-3">
                <div class="d-grid p-3">
                    <button type="button" class="btn btn-info btn-lg">간편 연락 [3]</button>
                </div>
            </div>
        </div>
        <!-- 긴급 호출 Modal-->
        <div class="toast-container top-50 start-50 translate-middle p-3">
          <div id="liveToastEmergencyCall" class="toast text-bg-danger" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
            <div class="toast-header">
              <img src="icon.png" class="rounded me-2" alt="...">
              <strong class="me-auto">스마트진료</strong>
              <small>지금</small>
              <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
              긴급 호출이 완료되었습니다.
            </div>
          </div>
        </div>

        <!-- 편의요청 Modal -->
        <div class="modal fade" id="modalCallAid" tabindex="-1" aria-labelledby="modalCallAidLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="modalCallAidLabel">편의 요청</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="container text-center gap-3 p-3">
                  <div class="row">
                    <div class="col">
                      <button type="button" id="btnToiletMove" class="btn btn-primary p-3">
                        <i class="fa-solid fa-restroom fa-8x"></i><br/>화장실 이동 [Q]
                      </button>
                    </div>
                    <div class="col">
                      <button type="button" id="btnWater" class="btn btn-primary p-3">
                        <i class="fa-solid fa-bottle-water fa-8x"></i><br/>식수 요청 [W]
                      </button>
                    </div>
                    <div class="col">
                      <button type="button" id="btnToiletAid" class="btn btn-primary p-3">
                        <i class="fa-solid fa-toilet fa-8x"></i><br/>배변 보조 [E]
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Toast들 -->
                <div aria-live="polite" aria-atomic="true" class="d-flex justify-content-center align-items-center w-100">
                  <div id="liveToastToiletMove" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                      <img src="icon.png" class="rounded me-2" alt="...">
                      <strong class="me-auto">알림</strong>
                      <small>0초 전</small>
                      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                      화장실 이동 요청이 접수되었습니다.
                    </div>
                  </div>

                  <div id="liveToastWater" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                      <img src="icon.png" class="rounded me-2" alt="...">
                      <strong class="me-auto">알림</strong>
                      <small>0초 전</small>
                      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                      식수 요청이 접수되었습니다.
                    </div>
                  </div>

                  <div id="liveToastToiletAid" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                      <img src="icon.png" class="rounded me-2" alt="...">
                      <strong class="me-auto">알림</strong>
                      <small>0초 전</small>
                      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                      배변 보조 요청이 접수되었습니다.
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기 [ESC]</button>
              </div>
            </div>
          </div>
        </div>

        <!-- 간편연락 Modal -->
        <div class="modal fade" id="modalCallContact" tabindex="-1" aria-labelledby="modalCallContactLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="modalCallContactLabel">간편 연락</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="container text-center gap-3 p-3">
                  <div class="row">
                    <div class="col">
                      <button type="button" id="btnCallParent" class="btn btn-primary p-3">
                        <i class="fa-solid fa-person-breastfeeding fa-8x"></i><br/>보호자 [Q]
                      </button>
                    </div>
                    <div class="col">
                      <button type="button" id="btnWater" class="btn btn-primary p-3">
                        <i class="fa-solid fa-user-group fa-8x"></i><br/>친구 1 [W]
                      </button>
                    </div>
                    <div class="col">
                      <button type="button" id="btnToiletAid" class="btn btn-primary p-3">
                        <i class="fa-solid fa-user-nurse fa-8x"></i><br/>병원 데스크 [E]
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Toast들 -->
                <div aria-live="polite" aria-atomic="true" class="d-flex justify-content-center align-items-center w-100">
                  <div id="liveToastCallParent" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                      <img src="icon.png" class="rounded me-2" alt="...">
                      <strong class="me-auto">알림</strong>
                      <small>0초 전</small>
                      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                      보호자에게 연락이 접수되었습니다.
                    </div>
                  </div>

                  <div id="liveToastCallFriend" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                      <img src="icon.png" class="rounded me-2" alt="...">
                      <strong class="me-auto">알림</strong>
                      <small>0초 전</small>
                      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                      친구에게 연락이 접수되었습니다.
                    </div>
                  </div>

                  <div id="liveToastCallFront" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
                    <div class="toast-header">
                      <img src="icon.png" class="rounded me-2" alt="...">
                      <strong class="me-auto">알림</strong>
                      <small>0초 전</small>
                      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                      병원 데스크에 연락이 접수되었습니다.
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기 [ESC]</button>
              </div>
            </div>
          </div>
        </div>
    </div>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.bundle.js"></script>
    <script src="./js/vanillaCalendar.js" type="text/javascript"></script>
    <script src="./js/moment-with-locales.min.js" type="text/javascript"></script>
    <script>
      window.addEventListener('load', function () {
        vanillaCalendar.init();
      })
    </script>

    <!-- Toast띄우는 동작 구현 -->
    <script>
      const toastTriggerEmergencyCall = document.getElementById('btEmergencyCall')
      const toastEmergencyCall = document.getElementById('liveToastEmergencyCall')
      if (toastTriggerEmergencyCall) {
        toastTriggerEmergencyCall.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastEmergencyCall)

          toast.show()
        })
      }

      const toastTriggerToiletMove = document.getElementById('btnToiletMove')
      const toastToiletMove = document.getElementById('liveToastToiletMove')
      if (toastTriggerToiletMove) {
        toastTriggerToiletMove.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastToiletMove)

          toast.show()
        })
      }

      const toastTriggerWater = document.getElementById('btnWater')
      const toastWater = document.getElementById('liveToastWater')
      if (toastTriggerWater) {
        toastTriggerWater.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastWater)

          toast.show()
        })
      }

      const toastTriggerToiletAid = document.getElementById('btnToiletAid')
      const toastToiletAid = document.getElementById('liveToastToiletAid')
      if (toastTriggerToiletAid) {
        toastTriggerToiletAid.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastToiletAid)

          toast.show()
        })
      }

      const toastTriggerCallParent = document.getElementById('btnCallParent')
      const toastCallParent = document.getElementById('liveToastCallParent')
      if (toastTriggerCallParent) {
        toastTriggerCallParent.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastCallParent)

          toast.show()
        })
      }

      const toastTriggerCallFriend = document.getElementById('btnCallFriend')
      const toastCallFriend = document.getElementById('liveToastCallFriend')
      if (toastTriggerCallFriend) {
        toastTriggerCallFriend.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastCallFriend)

          toast.show()
        })
      }

      const toastTriggerCallFront = document.getElementById('btnCallFront')
      const toastCallFront = document.getElementById('liveToastCallFront')
      if (toastTriggerCallFront) {
        toastTriggerCallFront.addEventListener('click', () => {
          const toast = new bootstrap.Toast(toastCallFront)

          toast.show()
        })
      }
    </script>

    <!-- 키보드로 편의 요청, 호출, 간편 연락 Modal을 대신 띄워주는 코드 -->
    <script>
      modalNum = 0
      isActive = false
      var modalCallAid = document.getElementById('modalCallAid')
      modalCallAid.addEventListener('hidden.bs.modal', function () {
        isActive = false
        modalNum = 0
      }) // 모달이 닫히면 isActive를 false로 바꿔줌
      var modalCallContact = document.getElementById('modalCallContact')
      modalCallContact.addEventListener('hidden.bs.modal', function () {
        isActive = false
        modalNum = 0
      }) // 모달이 닫히면 isActive를 false로 바꿔줌
      var toastCall = document.getElementById('liveToastEmergencyCall')
      toastCall.addEventListener('hidden.bs.toast', function () {
        isActive = false
        modalNum = 0
      }) // 모달이 닫히면 isActive를 false로 바꿔줌

      document.addEventListener('keydown', function (event) {
        if (event.key === '1' || event.key === '!') {
          if (isActive) {
            return
          }
          const modal = new bootstrap.Modal(document.getElementById('modalCallAid'))
          isActive = true
          modalNum = 1
          modal.show()
        } else if (event.key === '2' || event.key === '@') {
          if (isActive) {
            return
          }
          const toast = document.getElementById('liveToastEmergencyCall')
          const bsEmergencyCall = new bootstrap.Toast(toast)
          isActive = true
          modalNum = 2
          bsEmergencyCall.show()
        } else if (event.key === '3' || event.key === '#') {
          if (isActive) {
            return
          }
          const modal = new bootstrap.Modal(document.getElementById('modalCallContact'))
          isActive = true
          modalNum = 3
          modal.show()
        }
      })
    </script>

    <!-- 키보드로 편의 버튼들 동작시키는 코드 -->
    <script>
      document.addEventListener('keydown', function (event) {
        if (event.key === 'q' || event.key === 'Q') {
          if(modalNum === 1) {
            const toast = new bootstrap.Toast(toastToiletMove)
            toast.show()
          }
          else if(modalNum === 3) {
            const toast = new bootstrap.Toast(toastCallParent)
            toast.show()
          }          
        } else if (event.key === 'w' || event.key === 'W') {
          if(modalNum === 1) {
            const toast = new bootstrap.Toast(toastWater)
            toast.show()
          }
          else if(modalNum === 3) {
            const toast = new bootstrap.Toast(toastCallFriend)
            toast.show()
          }
        } else if (event.key === 'e' || event.key === 'E') {
          if(modalNum === 1) {
            const toast = new bootstrap.Toast(toastToiletAid)
            toast.show()
          }
          else if(modalNum === 3) {
            const toast = new bootstrap.Toast(toastCallFront)
            toast.show()
          }
        }
      })
    </script>

    <!-- 일정 & 식단 불러오는 코드들 -->
    <script>
      moment.locale('ko');
      function parseMedMenuJson(data){
          var parsedJSON = JSON.parse(data);
          // console.log(parsedJSON)
          
          var j = 0
          for (var i=parsedJSON.length-1;i>-1;i--) {
              console.log(parsedJSON[i].CONTENT_);

              var hm = parsedJSON[i].HOURMIN_
              var name = parsedJSON[i].CONTENT_
              var note = parsedJSON[i].NOTE_

              var str = moment(parsedJSON[i].HOURMIN_, "HHmm").format("HH:mm") + " " + name + " " + note

              if(j == 0) {
                document.getElementById('bdMed3').innerHTML = str
              } else if (j == 1) {
                document.getElementById('bdMed2').innerHTML = str
              } else if (j == 2) {
                document.getElementById('bdMed1').innerHTML = str
              }

              j = j + 1
              // document.getElementById('debugDietMenu2').innerHTML += " " + parsedJSON[i].CONTENT_;
          }
      }
      function parseDietMenuJson(data){
          var parsedJSON = JSON.parse(data);
          // console.log(parsedJSON)
          
          var j = 0
          // 마지막 3개만 가져옴
          for (var i=parsedJSON.length-1;i>-1;i--) {
              console.log(parsedJSON[i].CONTENT_);

              var y = parsedJSON[i].YEAR_
              var m = parsedJSON[i].MONTH_
              var d = parsedJSON[i].DATE_
              var date = y + "-" + m + "-" + d
              var idx = parsedJSON[i].INDEX_
              var t = ""
              if (idx == 1) {
                t = "[아침]"
              }
              else if (idx == 2) {
                t = "[점심]"
              }
              else if (idx == 3) {
                t = "[저녁]"
              }
              var c = parsedJSON[i].CONTENT_
              
              var str = t + " " + date + " " + c

              if (j == 0) {
                document.getElementById("btDiet3").innerHTML = str
                document.getElementById("bdDiet3").innerHTML = "맛있게 드세요"
              } else if (j == 1) {
                document.getElementById("btDiet2").innerHTML = str
                document.getElementById("bdDiet2").innerHTML = "맛있게 드세요"
              } else if (j == 2) {
                document.getElementById("btDiet1").innerHTML = str
                document.getElementById("bdDiet1").innerHTML = "맛있게 드세요"
              }
              
              j = j + 1
              // document.getElementById('debugMedMenu2').innerHTML += " " + parsedJSON[i].CONTENT_;
          }
      }
      function parseAlarmJson(data){
          var parsedJSON = JSON.parse(data);
          // console.log(parsedJSON)
          for (var i=0;i<parsedJSON.length;i++) {
              // console.log(parsedJSON[i].HOURMIN_);
              // document.getElementById('debugAlarm2').innerHTML += " " + parsedJSON[i].HOURMIN_;
          }
      }
      function parseScheduleJson(data){
          var parsedJSON = JSON.parse(data);
          // console.log(parsedJSON)
          var j = 0

          // 마지막 3개만 가져옴
          for (var i=parsedJSON.length-1;i>-1;i--) {
              // console.log(parsedJSON[i].HOURMIN_);
              var y = parsedJSON[i].YEAR_
              var m = parsedJSON[i].MONTH_
              var d = parsedJSON[i].DATE_
              var date = y + "-" + m + "-" + d

              if(j == 0) {
                document.getElementById('btSCD3').innerHTML = date + " " + moment(date, "YYYY-MM-DD").format('dddd') + " " + moment(parsedJSON[0].HOURMIN_, "HHmm").format("HH:mm") + " " + parsedJSON[0].CONTENT_;
                document.getElementById('bdSCD3').innerHTML = parsedJSON[i].NOTE_
              } else if (j == 1) {
                document.getElementById('btSCD2').innerHTML = date + " " + moment(date, "YYYY-MM-DD").format('dddd') + " " + moment(parsedJSON[0].HOURMIN_, "HHmm").format("HH:mm") + " " + parsedJSON[0].CONTENT_;
                document.getElementById('bdSCD2').innerHTML = parsedJSON[i].NOTE_
              } else if (j == 2) {
                document.getElementById('btSCD1').innerHTML = date + " " + moment(date, "YYYY-MM-DD").format('dddd') + " " + moment(parsedJSON[0].HOURMIN_, "HHmm").format("HH:mm") + " " + parsedJSON[0].CONTENT_;
                document.getElementById('bdSCD1').innerHTML = parsedJSON[i].NOTE_
              }
              j = j + 1
              // document.getElementById('debugSchedule2').innerHTML += " " + parsedJSON[i].HOURMIN_ + " " + parsedJSON[i].CONTENT_;
          }
      }
  </script>
  <script>
      URL = 'http://165.246.42.73:50080/DietMenu';
      fetch(URL)
      .then(res => res.text())
      .then(text => {
          // document.getElementById('debugDietMenu').innerHTML = text;
          parseDietMenuJson(text)
          // console.log(text);
      })
      .catch(err => console.log(err));
  </script>
  <script>
      URL = 'http://165.246.42.73:50080/MedMenu';
      fetch(URL)
      .then(res => res.text())
      .then(text => {
          // document.getElementById('debugMedMenu').innerHTML = text;
          parseMedMenuJson(text)
          // console.log(text);
      })
      .catch(err => console.log(err));
  </script>
  <script>
      URL = 'http://165.246.42.73:50080/Alarm';
      fetch(URL)
      .then(res => res.text())
      .then(text => {
          // document.getElementById('debugAlarm').innerHTML = text;
          parseAlarmJson(text)
          // console.log(text);
      })
      .catch(err => console.log(err));
  </script>
  <script>
      URL = 'http://165.246.42.73:50080/Schedule';
      fetch(URL)
      .then(res => res.text())
      .then(text => {
          // document.getElementById('debugSchedule').innerHTML = text;
          parseScheduleJson(text)
          // console.log(text);
      })
      .catch(err => console.log(err));
  </script>
  </body>
</html>